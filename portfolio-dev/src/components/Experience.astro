---
import ExperienceItem from "./ExperienceItem.astro"
import BriefcaseIcon from "./icons/Briefcase.astro"

import { getLangFromUrl, useTranslations } from '../i18n/utils'

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)

const EXPERIENCE = [
  {
    date: `${t('experience.uxcale.date')}`,
    title: `${t('experience.uxcale.title')}`,
    description: `${t('experience.uxcale.text')}`,
  }, 
  {
    date: `${t('experience.telefonica.date')}`,
    title: `${t('experience.telefonica.title')}`,
    description: `${t('experience.telefonica.text')}`,
  },
  {
    date: `${t('experience.pixel.date')}`,
    title: `${t('experience.pixel.title')}`,
    description: `${t('experience.pixel.text')}`,
  },
]
---
<h2 class="text-2xl md:text-3xl font-semibold mt-8 mb-6 flex gap-x-3 items-center">
  <BriefcaseIcon class="size-8" />
  {t('experience.title')}
</h2>

<ol class="relative border-s border-gray-200 ml-4">    
  {
    EXPERIENCE.map(experience =>(
      <li class="mb-10 ms-4 whitespace-pre-line">
        <ExperienceItem {...experience} />
      </li>
    ))
  }
</ol>

